{"id":517092516,"lang":"rust","time":"1 week, 3 days","timestamp":1625376017,"status_display":"Accepted","runtime":"332 ms","url":"/submissions/detail/517092516/","is_pending":"Not Pending","title":"Max Sum of Rectangle No Larger Than K","memory":"2.2 MB","code":"use std::cmp::max;\n\nimpl Solution {\n    pub fn max_sum_submatrix(matrix: Vec<Vec<i32>>, k: i32) -> i32 {\n        let R = matrix.len();\n        let C = matrix[0].len();\n        let mut dp: Vec<Vec<i32>> = Vec::with_capacity(R);\n        for _ in 0..R {\n            dp.push(vec![0; C]);\n        }\n        \n        // println!(\"{}\", dp.len());\n        // println!(\"{}\", dp[0].len());\n        // return 0\n        for r in 0..R {\n            for c in 0..C {\n                if c == 0 {\n                    dp[r][c] = matrix[r][c];\n                }\n                else {\n                    dp[r][c] = dp[r][c-1] + matrix[r][c];\n                }\n            }\n        }\n        for r in 1..R {\n            for c in 0..C {\n                dp[r][c] = dp[r-1][c] + dp[r][c];\n            }\n        }\n\n\n        let mut ans = std::i32::MIN;\n        for r1 in 0..R {\n            for r2 in r1..R {\n                for c1 in 0..C {\n                    for c2 in c1..C {\n                        let mut val = 0;\n                        if r1 == 0 && c1 == 0 {\n                            val = dp[r2][c2];\n                        }\n                        else if r1 == 0 {\n                            val = dp[r2][c2] - dp[r2][c1-1];\n                        }\n                        else if c1 == 0 {\n                            val = dp[r2][c2] - dp[r1-1][c2];\n                        }\n                        else {\n                            val = dp[r2][c2] - dp[r1-1][c2]  - dp[r2][c1-1] + dp[r1-1][c1-1];\n                        }\n                        \n                        if val <= k {\n                            ans = max(ans, val);\n                        }\n                    }\n                }\n            }\n            \n        }\n        return ans\n\n    }\n}","compare_result":"111111111111111111111111111111111111111","title_slug":"max-sum-of-rectangle-no-larger-than-k"}