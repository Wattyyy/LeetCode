{"id":301977703,"lang":"python3","time":"1 year, 5 months","timestamp":1581325225,"status_display":"Wrong Answer","runtime":"N/A","url":"/submissions/detail/301977703/","is_pending":"Not Pending","title":"Max Points on a Line","memory":"N/A","code":"from collections import defaultdict, Counter\nimport math\n\nclass Solution:\n    def maxPoints(self, points):\n        sys.setrecursionlimit(10**6) \n        N = len(points)\n        if N == 1 or N == 0: \n            return N\n        # (coef, intercept) -> points list\n        d = defaultdict(set)\n        # detect duplicate\n        c = Counter([tuple(point) for point in points])\n        keys = []\n        for key in c:\n            if c[key] <= 1: \n                keys.append(key)\n        for key in keys:\n            del c[key]\n\n        for i in range(N):\n            for j in range(i+1, N):\n                x1, y1 = points[i]\n                x2, y2 = points[j]\n                # calc coef and intercept\n                l = (x2 - x1)\n                m = -(y2 - y1)\n                n = (x1 * y2) - (y1 * x2)\n                if l == 0 and m == 0 and n == 0:\n                    d[(l, m, n)].add((x1, y1))\n                    d[(l, m, n)].add((x2, y2))\n                else:\n                    gcd1 = math.gcd(l, m)\n                    gcd2 = math.gcd(gcd1, n)\n                    l, m, n = l/gcd2, m/gcd2, n/gcd2\n                    d[(l, m, n)].add((x1, y1))\n                    d[(l, m, n)].add((x2, y2))\n                    \n        ans = 1\n        for key, p_set in d.items():\n            tmp_val = 0\n            for c_key in c:\n                if c_key in p_set:\n                    tmp_val += (c[c_key] - 1)   \n            ans = max(ans, len(d[key]) + tmp_val)\n        return ans\n        ","compare_result":"1111111111111111111111111111100001111","title_slug":"max-points-on-a-line"}