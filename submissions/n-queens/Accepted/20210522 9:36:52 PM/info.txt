{"id":496635204,"lang":"python3","time":"1 month, 3 weeks","timestamp":1621687012,"status_display":"Accepted","runtime":"88 ms","url":"/submissions/detail/496635204/","is_pending":"Not Pending","title":"N-Queens","memory":"14.6 MB","code":"from typing import List\nfrom collections import Counter\n\nclass Solution:\n    def __init__(self):\n        self.ans = []\n        self.col_visited = set()\n        self.diag_visited = Counter()\n\n    def diag_add(self, row, col, n):\n        # lower left\n        r, c = row + 1, col - 1\n        while r < n and 0 <= c:\n            self.diag_visited[(r, c)] += 1\n            r += 1\n            c -= 1\n        # lower right\n        r, c = row + 1, col + 1\n        while r < n and c < n:\n            self.diag_visited[(r, c)] += 1\n            r += 1\n            c += 1\n        \n    def diag_remove(self, row, col, n):\n        # lower left\n        r, c = row + 1, col - 1\n        while r < n and 0 <= c:\n            self.diag_visited[(r, c)] -= 1\n            r += 1\n            c -= 1\n        # lower right\n        r, c = row + 1, col + 1\n        while r < n and c < n:\n            self.diag_visited[(r, c)] -= 1\n            r += 1\n            c += 1\n    \n    def backtrack(self, ls, row, n):\n        if row == n:\n            res = []\n            for row in ls:\n                string = ''.join(row)\n                res.append(string)\n            self.ans.append(res[:])\n            return\n\n        for col in range(n):\n            if (col not in self.col_visited) and (self.diag_visited[(row, col)] == 0):\n                self.col_visited.add(col)\n                self.diag_add(row, col, n)\n                ls[row][col] = 'Q'\n                self.backtrack(ls, row+1, n)\n                self.col_visited.remove(col)\n                self.diag_remove(row, col, n)\n                ls[row][col] = '.'\n        \n    def solveNQueens(self, n: int) -> List[List[str]]:\n        ls_init = [['.' for _ in range(n)] for __ in range(n)]\n        self.backtrack(ls_init, 0, n)\n        return self.ans\n        \n","compare_result":"111111111","title_slug":"n-queens"}