{"id":483017641,"lang":"python3","time":"2 months, 3 weeks","timestamp":1618922998,"status_display":"Accepted","runtime":"2804 ms","url":"/submissions/detail/483017641/","is_pending":"Not Pending","title":"Largest Component Size by Common Factor","memory":"24.2 MB","code":"from typing import List, Union\nfrom collections import defaultdict\nfrom math import sqrt\n\nclass UnionFind():\n    def __init__(self, nums):\n        self.node2par = {num:num for num in nums}\n        self.rank = {num:0 for num in nums}\n        self.count = {num:1 for num in nums}\n\n    def find_par(self, x):\n        if self.node2par[x] != x:\n            x = self.find_par(self.node2par[x])\n        return x\n\n    def unite(self, x, y):\n        x, y = self.find_par(x), self.find_par(y)\n        if x == y:\n            return\n            \n        if self.rank[x] < self.rank[y]:\n            self.node2par[x] = y\n            self.count[y] += self.count[x]\n        else:\n            self.node2par[y] = x\n            self.count[x] += self.count[y]\n\n        if self.rank[x] == self.rank[y]:\n            self.rank[x] += 1\n\n\nclass Solution:\n    def largestComponentSize(self, A: List[int]) -> int:\n        uf = UnionFind(A)\n        divisor_to_nums = defaultdict(list)\n        for num in A:\n            for i in range(1, int(sqrt(num)) + 1):\n                if num % i == 0:\n                    divisor_to_nums[i].append(num)\n                    if i != num // i:\n                        divisor_to_nums[num // i].append(num)\n        del divisor_to_nums[1]\n        \n        for key, ls in divisor_to_nums.items():\n            if len(ls) == 1:\n                continue\n            for i, num in enumerate(ls):\n                if i == len(ls) - 1:\n                    break\n                num2 = ls[i+1]\n                uf.unite(num, num2)\n        \n        res = max(uf.count.values())\n        return res\n            \n        ","compare_result":"1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"largest-component-size-by-common-factor"}